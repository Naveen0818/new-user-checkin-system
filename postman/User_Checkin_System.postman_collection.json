{
	"info": {
		"_postman_id": "d5d97f18-1e34-4cda-a9c2-2c390c5cf1ef",
		"name": "User Checkin System",
		"description": "Collection for the User Check-in System APIs",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Authenticate user and get JWT token"
					},
					"response": []
				},
				{
					"name": "Register New User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"newuser\",\n    \"password\": \"password\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"locationId\": 1,\n    \"managerId\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a new user"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints"
		},
		{
			"name": "Check-ins",
			"item": [
				{
					"name": "User Check-in at Location",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/location/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"location",
								"1"
							]
						},
						"description": "User checks in at a specific location"
					},
					"response": []
				},
				{
					"name": "User Check-out",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/1/checkout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"1",
								"checkout"
							]
						},
						"description": "User checks out from their current check-in"
					},
					"response": []
				},
				{
					"name": "Get Active Check-in",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/active",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"active"
							]
						},
						"description": "Get current user's active check-in"
					},
					"response": []
				},
				{
					"name": "Get User Check-ins",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/user",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"user"
							]
						},
						"description": "Get all check-ins for the current user"
					},
					"response": []
				},
				{
					"name": "Get Check-ins by User ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/user/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"user",
								"1"
							]
						},
						"description": "Get all check-ins for a specific user (requires appropriate role)"
					},
					"response": []
				},
				{
					"name": "Get Location Check-ins",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/location/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"location",
								"1"
							]
						},
						"description": "Get all check-ins for a specific location (requires appropriate role)"
					},
					"response": []
				},
				{
					"name": "Get User Check-ins by Date Range",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/user/daterange?start=2023-01-01T00:00:00&end=2023-12-31T23:59:59",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"user",
								"daterange"
							],
							"query": [
								{
									"key": "start",
									"value": "2023-01-01T00:00:00"
								},
								{
									"key": "end",
									"value": "2023-12-31T23:59:59"
								}
							]
						},
						"description": "Get current user's check-ins within a date range"
					},
					"response": []
				},
				{
					"name": "Get Manager's Subordinates Check-ins by Date Range",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/checkins/manager/daterange?start=2023-01-01T00:00:00&end=2023-12-31T23:59:59",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"checkins",
								"manager",
								"daterange"
							],
							"query": [
								{
									"key": "start",
									"value": "2023-01-01T00:00:00"
								},
								{
									"key": "end",
									"value": "2023-12-31T23:59:59"
								}
							]
						},
						"description": "Get all check-ins for a manager's subordinates within a date range"
					},
					"response": []
				}
			],
			"description": "Check-in related endpoints"
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get Current User Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/profile",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"profile"
							]
						},
						"description": "Get the current user's profile information"
					},
					"response": []
				},
				{
					"name": "Get All Users",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Get all users (requires appropriate role)"
					},
					"response": []
				},
				{
					"name": "Get User By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "Get user by ID (requires appropriate role)"
					},
					"response": []
				}
			],
			"description": "User management endpoints"
		},
		{
			"name": "Locations",
			"item": [
				{
					"name": "Get All Locations",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/locations",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"locations"
							]
						},
						"description": "Get all locations"
					},
					"response": []
				},
				{
					"name": "Get Location By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/locations/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"locations",
								"1"
							]
						},
						"description": "Get location by ID"
					},
					"response": []
				},
				{
					"name": "Create Location",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New Office\",\n    \"address\": \"123 Main St\",\n    \"city\": \"San Francisco\",\n    \"state\": \"CA\",\n    \"zipCode\": \"94105\",\n    \"country\": \"USA\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/locations",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"locations"
							]
						},
						"description": "Create a new location"
					},
					"response": []
				}
			],
			"description": "Location management endpoints"
		},
		{
			"name": "Events",
			"item": [
				{
					"name": "Get All Events",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Get all events"
					},
					"response": []
				},
				{
					"name": "Get Event By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/events/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"1"
							]
						},
						"description": "Get event by ID"
					},
					"response": []
				},
				{
					"name": "Create Event",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Team Meeting\",\n    \"description\": \"Weekly team sync-up\",\n    \"locationId\": 1,\n    \"startTime\": \"2023-08-01T10:00:00\",\n    \"endTime\": \"2023-08-01T11:00:00\",\n    \"status\": \"SCHEDULED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Create a new event"
					},
					"response": []
				},
				{
					"name": "Update Event Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"COMPLETED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"1",
								"status"
							]
						},
						"description": "Update event status"
					},
					"response": []
				}
			],
			"description": "Event management endpoints"
		},
		{
			"name": "Planned Visits",
			"item": [
				{
					"name": "Get All Planned Visits",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/planned-visits",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"planned-visits"
							]
						},
						"description": "Get all planned visits"
					},
					"response": []
				},
				{
					"name": "Get Planned Visit By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/planned-visits/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"planned-visits",
								"1"
							]
						},
						"description": "Get planned visit by ID"
					},
					"response": []
				},
				{
					"name": "Create Planned Visit",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": 1,\n    \"locationId\": 1,\n    \"plannedStartTime\": \"2023-08-01T09:00:00\",\n    \"plannedEndTime\": \"2023-08-01T17:00:00\",\n    \"purpose\": \"Work day\",\n    \"status\": \"PLANNED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/planned-visits",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"planned-visits"
							]
						},
						"description": "Create a new planned visit"
					},
					"response": []
				},
				{
					"name": "Update Planned Visit Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"COMPLETED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/planned-visits/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"planned-visits",
								"1",
								"status"
							]
						},
						"description": "Update planned visit status"
					},
					"response": []
				}
			],
			"description": "Planned visit management endpoints"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"if (pm.response.code === 200 || pm.response.code === 201) {",
					"    if (pm.response.json() && pm.response.json().token) {",
					"        pm.environment.set(\"authToken\", pm.response.json().token);",
					"        console.log(\"Token saved to environment\");",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080/api",
			"type": "string"
		}
	]
}
